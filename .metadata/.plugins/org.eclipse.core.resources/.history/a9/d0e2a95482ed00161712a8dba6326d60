package com.khjtony.FizzBuzzForSwift;

import java.util.ArrayList;
import java.util.Map;

public class FizzBuzz {
	class Atom{
		Atom(int raw_value, String str_value){
			this.raw_value=raw_value;
			this.str_value=str_value;
		}
		public int raw_value;
		public String str_value;
	}
	
	private final int DEFAULT_LIMIT=1000;
	private ArrayList<Atom> _fb = new ArrayList<Atom>();
	private final boolean DEFAULT_REMEMBER = true;
	private int limit=0;
	private boolean remember=true;
	
	public static String simpleFizzBuzz(int n){
		
	}
	
	// Constructors
	FizzBuzz(){
		//default constructor
		this.limit=DEFAULT_LIMIT;
		this.remember=DEFAULT_REMEMBER;
	}
	FizzBuzz(int limit){
		// configure the limit
		// when constructed from this constructor,
		// _fb will be filled up to the limit
		this.limit=limit;
		this.remember=DEFAULT_REMEMBER;
	}
	FizzBuzz(boolean remember){
		this.limit=DEFAULT_LIMIT;
		this.remember=remember;
	}
	
	// public function
	public String doFizzBuzz(int n) throws ArithmeticException{
		if(n<0){
			throw new ArithmeticException("Input value less than 0!");
		}
		return this._fb.get(n).str_value;
	}
	
	// private help functions
	private String _generate(int n){
		int temp=0;
		if(this._fb.size()<=2){
			this._fb.clear();
			this._fb.add(new Atom(1,"1"));
			this._fb.add(new Atom(1,"1"));
		}
		if (this._fb.size()>=n){
			return this._fb.get(n).str_value;
		}else{
			for (int i=this._fb.size()-1;i<n;i++){
				temp=this._fb.get(i-2).raw_value+this._fb.get(i-1).raw_value;
				this._fb.add(new Atom(temp, _valueCheck(temp)));
			}
			return this._fb.get(n).str_value;
		}
	}
	
	private String _valueCheck(int value){
		return String.valueOf(value);
	}
	
	
}
